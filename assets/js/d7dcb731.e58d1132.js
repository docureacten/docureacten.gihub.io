"use strict";(self.webpackChunkdocubook=self.webpackChunkdocubook||[]).push([[7642],{8662:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>l});var o=n(4848),i=n(8453);const s={},a="useContext",r={id:"Hook/7-2-useContext",title:"useContext",description:"The useContext hook is a fundamental tool in React that enables you to share data across multiple components without the need to pass props down through every level of the component tree. This can greatly simplify your component structure and improve code readability, especially in larger applications where data needs to be accessible by many components.",source:"@site/docs/7-Hook/7-2-useContext.md",sourceDirName:"7-Hook",slug:"/Hook/7-2-useContext",permalink:"/Hook/7-2-useContext",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Extracting State Logic with Custom Hooks",permalink:"/Hook/7-11-Extracting State Logic with Custom Hooks"},next:{title:"useCallback",permalink:"/Hook/7-3-useCallback"}},c={},l=[{value:"Understanding the Context API",id:"understanding-the-context-api",level:2},{value:"Creating a Context",id:"creating-a-context",level:3},{value:"Providing a Context Value",id:"providing-a-context-value",level:3},{value:"Consuming Context with <code>useContext</code>",id:"consuming-context-with-usecontext",level:3},{value:"Key Points to Watch Out For",id:"key-points-to-watch-out-for",level:3},{value:"Practical Example: Theme Toggler",id:"practical-example-theme-toggler",level:2},{value:"Explanation",id:"explanation",level:3},{value:"Further Reading",id:"further-reading",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"usecontext",children:"useContext"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"useContext"})," hook is a fundamental tool in React that enables you to share data across multiple components without the need to pass props down through every level of the component tree. This can greatly simplify your component structure and improve code readability, especially in larger applications where data needs to be accessible by many components."]}),"\n",(0,o.jsx)(t.h2,{id:"understanding-the-context-api",children:"Understanding the Context API"}),"\n",(0,o.jsxs)(t.p,{children:["Before diving into ",(0,o.jsx)(t.code,{children:"useContext"}),", it's important to understand the Context API, which is the backbone of how ",(0,o.jsx)(t.code,{children:"useContext"})," operates. Context allows you to create a global-like data layer in React, where certain values (like theme settings, user information, or localization data) can be stored and accessed by any component within the tree, no matter how deeply nested."]}),"\n",(0,o.jsx)(t.h3,{id:"creating-a-context",children:"Creating a Context"}),"\n",(0,o.jsxs)(t.p,{children:["To use ",(0,o.jsx)(t.code,{children:"useContext"}),", you first need to create a context. Here's how you can create one:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:"import React, { createContext } from 'react';\n\n// Create a context with a default value\nconst MyContext = createContext('default value');\n"})}),"\n",(0,o.jsxs)(t.p,{children:["In this example, ",(0,o.jsx)(t.code,{children:"MyContext"})," is a context object that you can use to provide and consume values throughout your component tree."]}),"\n",(0,o.jsx)(t.h3,{id:"providing-a-context-value",children:"Providing a Context Value"}),"\n",(0,o.jsxs)(t.p,{children:["To make a context value available to components, you need to use the ",(0,o.jsx)(t.code,{children:"Provider"})," component that comes with every context object. The ",(0,o.jsx)(t.code,{children:"Provider"})," component wraps around the parts of your component tree that should have access to the context."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:"import React from 'react';\nimport MyComponent from './MyComponent';\nimport { MyContext } from './MyContext';\n\nfunction App() {\n  return (\n    <MyContext.Provider value=\"Hello, Context!\">\n      <MyComponent />\n    </MyContext.Provider>\n  );\n}\n\nexport default App;\n"})}),"\n",(0,o.jsxs)(t.p,{children:["In this code, the ",(0,o.jsx)(t.code,{children:"App"})," component provides the value ",(0,o.jsx)(t.code,{children:'"Hello, Context!"'})," to any component inside the ",(0,o.jsx)(t.code,{children:"MyContext.Provider"}),". The ",(0,o.jsx)(t.code,{children:"MyComponent"})," can now access this value."]}),"\n",(0,o.jsxs)(t.h3,{id:"consuming-context-with-usecontext",children:["Consuming Context with ",(0,o.jsx)(t.code,{children:"useContext"})]}),"\n",(0,o.jsxs)(t.p,{children:["This is where ",(0,o.jsx)(t.code,{children:"useContext"})," shines. Instead of passing the context value down through props, you can directly access it using the ",(0,o.jsx)(t.code,{children:"useContext"})," hook."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:"import React, { useContext } from 'react';\nimport { MyContext } from './MyContext';\n\nfunction MyComponent() {\n  // Access the context value\n  const value = useContext(MyContext);\n\n  return (\n    <div>\n      <p>The context value is: {value}</p>\n    </div>\n  );\n}\n\nexport default MyComponent;\n"})}),"\n",(0,o.jsxs)(t.p,{children:["In this example, ",(0,o.jsx)(t.code,{children:"MyComponent"})," calls ",(0,o.jsx)(t.code,{children:"useContext(MyContext)"})," to retrieve the value provided by the nearest ",(0,o.jsx)(t.code,{children:"MyContext.Provider"}),". The value ",(0,o.jsx)(t.code,{children:'"Hello, Context!"'})," will be displayed within the paragraph."]}),"\n",(0,o.jsx)(t.h3,{id:"key-points-to-watch-out-for",children:"Key Points to Watch Out For"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Context is Global"}),": Be cautious when using context. While it\u2019s powerful, overusing it can make your code difficult to maintain because it introduces implicit dependencies between components."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Avoid Large Context Objects"}),": Instead of placing all possible state into a single context, consider creating multiple smaller contexts. This helps to limit the scope and keep components more modular."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"Performance Considerations"}),": Updating a context value triggers a re-render of all components consuming that context. If a context contains a large amount of data or updates frequently, it may lead to performance issues."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"practical-example-theme-toggler",children:"Practical Example: Theme Toggler"}),"\n",(0,o.jsxs)(t.p,{children:["Let's walk through a more practical example where we use ",(0,o.jsx)(t.code,{children:"useContext"})," to toggle between light and dark themes."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:"import React, { createContext, useContext, useState } from 'react';\n\n// Create a context with 'light' as the default value\nconst ThemeContext = createContext('light');\n\nfunction ThemeProvider({ children }) {\n  const [theme, setTheme] = useState('light');\n\n  const toggleTheme = () => {\n    setTheme(prevTheme => (prevTheme === 'light' ? 'dark' : 'light'));\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\nfunction ThemedComponent() {\n  // Use useContext to access the current theme and the function to toggle it\n  const { theme, toggleTheme } = useContext(ThemeContext);\n\n  return (\n    <div style={{ background: theme === 'light' ? '#fff' : '#333', color: theme === 'light' ? '#000' : '#fff' }}>\n      <p>The current theme is {theme}</p>\n      <button onClick={toggleTheme}>Toggle Theme</button>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <ThemedComponent />\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n"})}),"\n",(0,o.jsx)(t.h3,{id:"explanation",children:"Explanation"}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"ThemeContext"}),": This context is created with a default value of ",(0,o.jsx)(t.code,{children:"'light'"}),"."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"ThemeProvider"}),": This component manages the current theme state and provides both the theme value and a ",(0,o.jsx)(t.code,{children:"toggleTheme"})," function to all of its children."]}),"\n",(0,o.jsxs)(t.li,{children:[(0,o.jsx)(t.strong,{children:"ThemedComponent"}),": This component consumes the context, using ",(0,o.jsx)(t.code,{children:"useContext"})," to access the current theme and the ",(0,o.jsx)(t.code,{children:"toggleTheme"})," function, which it uses to allow users to toggle between light and dark themes."]}),"\n"]}),"\n",(0,o.jsxs)(t.p,{children:["This example demonstrates how ",(0,o.jsx)(t.code,{children:"useContext"})," can simplify passing down data like the theme setting across multiple layers of components without needing to prop-drill."]}),"\n",(0,o.jsx)(t.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Context API"}),"\n",(0,o.jsx)(t.li,{children:"React Performance Optimization"}),"\n",(0,o.jsx)(t.li,{children:"State Management in React"}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"useContext"})," hook is an essential feature in React for managing global-like data without the hassle of passing props down through every level of your component tree. It allows you to consume context values directly within your components, making your code cleaner and more maintainable. However, it's important to use context judiciously to avoid potential performance pitfalls and maintain clarity in your component architecture."]})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var o=n(6540);const i={},s=o.createContext(i);function a(e){const t=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(s.Provider,{value:t},e.children)}}}]);